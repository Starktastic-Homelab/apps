version: 1
metadata:
  labels:
    blueprints.goauthentik.io/instantiate: "true"
  name: Starktastic Brand

entries:
  # =============================================================
  # OVERRIDE DEFAULT FLOW TITLES
  # =============================================================

  - identifiers:
      slug: default-authentication-flow
    model: authentik_flows.flow
    state: present
    attrs:
      title: "Sign In"

  - identifiers:
      slug: default-invalidation-flow
    model: authentik_flows.flow
    state: present
    attrs:
      title: "Signed Out"

  - identifiers:
      slug: default-recovery-flow
    model: authentik_flows.flow
    state: present
    attrs:
      title: "Account Recovery"

  - identifiers:
      slug: default-user-settings-flow
    model: authentik_flows.flow
    state: present
    attrs:
      title: "Settings"

  # =============================================================
  # BRAND
  # =============================================================

  - identifiers:
      domain: starktastic.net # source: globals.yaml â†’ global.domains.public (Kustomize-managed, cannot use Helm template)
    model: authentik_brands.brand
    state: present
    attrs:
      default: true
      branding_title: "Starktastic Services"
      branding_logo: "branding/logo.svg"
      branding_favicon: "branding/favicon.svg"
      branding_default_flow_background: "branding/background.svg"
      branding_custom_css: |
        /* Starktastic Services - Custom Authentik Theme
         * Palette: Crimson (#DC2626), Blue (#3B82F6), Dark (#0F0F1A)
         */

        :root {
          /* Override Authentik accent colors - crimson ramp */
          --ak-accent-50: #FEF2F2;
          --ak-accent-100: #FEE2E2;
          --ak-accent-200: #FECACA;
          --ak-accent-300: #FCA5A5;
          --ak-accent-400: #F87171;
          --ak-accent-500: #EF4444;
          --ak-accent-600: #DC2626;
          --ak-accent-700: #B91C1C;
          --ak-accent-800: #991B1B;
          --ak-accent-900: #7F1D1D;
        }

        /* Dark theme accent overrides */
        :host([theme="dark"]) {
          --ak-accent-500: #EF4444;
          --ak-accent-600: #DC2626;
        }

        /* Flow executor background */
        .pf-c-login {
          --pf-c-login--BackgroundColor: #0F0F1A;
        }

        /* Login card glow - subtle blue */
        .pf-c-login__main {
          border: 1px solid rgba(59, 130, 246, 0.12);
          box-shadow: 0 0 40px rgba(59, 130, 246, 0.05),
                      0 4px 24px rgba(0, 0, 0, 0.4);
        }

        /* Primary buttons - crimson */
        .pf-c-button.pf-m-primary {
          --pf-c-button--m-primary--BackgroundColor: #DC2626;
          --pf-c-button--m-primary--hover--BackgroundColor: #B91C1C;
          --pf-c-button--m-primary--focus--BackgroundColor: #B91C1C;
          --pf-c-button--m-primary--active--BackgroundColor: #991B1B;
        }

        /* Links - blue */
        .pf-c-login__main-footer-links a,
        .pf-c-form__helper-text a {
          color: #60A5FA;
        }
        .pf-c-form__helper-text a:hover {
          color: #93C5FD;
        }

        /* Admin navbar logo sizing - increase from default 2.25rem */
        .pf-c-brand {
          height: 3rem !important;
          min-height: 3rem !important;
        }
      attributes:
        settings:
          theme:
            base: dark
          locale: ""
